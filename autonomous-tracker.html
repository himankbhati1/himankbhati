<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Autonomous Tracker | Himank Bhati</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* --- PAGE SPECIFIC STYLES (Green/Circuit Theme) --- */

    body {
      background-color: #020a05;
      /* Digital rain / Circuit pattern */
      background-image: 
        linear-gradient(rgba(34, 197, 94, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(34, 197, 94, 0.05) 1px, transparent 1px);
      background-size: 30px 30px;
    }

    /* SIDEBAR LAYOUT */
    .doc-container {
      max-width: 1300px;
      margin: 120px auto 100px;
      padding: 0 20px;
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 60px;
    }

    .doc-sidebar {
      position: sticky;
      top: 120px;
      height: fit-content;
      padding-right: 20px;
      border-right: 1px solid rgba(34, 197, 94, 0.3);
    }

    .doc-nav-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: #86efac;
      margin-bottom: 20px;
      font-weight: 700;
    }

    .doc-nav a {
      display: block;
      color: #a3a3a3;
      text-decoration: none;
      padding: 10px 0;
      font-size: 15px;
      transition: 0.2s;
      border-left: 2px solid transparent;
      padding-left: 15px;
    }

    .doc-nav a:hover, .doc-nav a.active {
      color: #22c55e;
      border-left-color: #22c55e;
    }

    /* HERO SECTION */
    .tracker-hero {
      padding: 40px 0 80px;
      position: relative;
    }

    .tracker-title {
      font-size: clamp(40px, 6vw, 76px);
      font-weight: 900;
      margin-bottom: 20px;
      background: linear-gradient(to right, #22c55e, #a7f3d0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 40px rgba(34, 197, 94, 0.2);
      line-height: 1.1;
    }

    .status-badge {
      border: 1px solid #22c55e;
      color: #22c55e;
      padding: 5px 12px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 2px;
      border-radius: 4px;
      background: rgba(34, 197, 94, 0.1);
      margin-bottom: 20px;
      display: inline-block;
      font-family: 'Courier New', monospace;
      font-weight: 700;
    }

    /* CODE EDITOR VISUALIZATION */
    .code-window {
      background: #1e1e1e;
      border-radius: 8px;
      border: 1px solid #333;
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
      font-family: 'Courier New', monospace;
      margin: 40px 0 60px;
      overflow: hidden;
    }

    .code-header {
      background: #252526;
      padding: 10px 15px;
      display: flex;
      gap: 8px;
      border-bottom: 1px solid #333;
      align-items: center;
    }

    .code-dot { width: 10px; height: 10px; border-radius: 50%; }
    .code-body { padding: 20px; overflow-x: auto; }
    
    /* Syntax Highlighting */
    .c-key { color: #569cd6; } /* Blue keywords */
    .c-func { color: #dcdcaa; } /* Yellow functions */
    .c-var { color: #9cdcfe; } /* Light blue vars */
    .c-num { color: #b5cea8; } /* Green numbers */
    .c-com { color: #6a9955; } /* Green comments */
    .c-pre { color: #c586c0; } /* Purple preprocessor */

    /* HARDWARE GRID */
    .hw-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
    }

    .hw-card {
      background: rgba(10, 20, 15, 0.8);
      border: 1px solid rgba(34, 197, 94, 0.15);
      border-radius: 12px;
      padding: 25px;
      transition: transform 0.2s;
    }
    
    .hw-card:hover {
      transform: translateY(-5px);
      border-color: #22c55e;
    }

    .hw-icon {
      font-size: 28px;
      margin-bottom: 15px;
      color: #22c55e;
    }

    .hw-title {
      font-size: 18px;
      font-weight: 700;
      color: white;
      margin-bottom: 10px;
    }

    /* IMAGE GALLERY GRID */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .gallery-card {
      background: rgba(255,255,255,0.03);
      padding: 10px;
      border-radius: 12px;
      border: 1px solid rgba(34, 197, 94, 0.2);
      transition: transform 0.2s;
    }
    
    .gallery-card:hover {
        transform: scale(1.02);
        border-color: #22c55e;
        background: rgba(34, 197, 94, 0.05);
    }

    .gallery-card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 10px;
      background: #000;
    }

    .caption {
      text-align: center;
      color: #86efac;
      font-size: 13px;
      font-family: 'Courier New', monospace;
      letter-spacing: 0.5px;
    }

    /* CONTENT TYPOGRAPHY */
    .doc-section { margin-bottom: 80px; scroll-margin-top: 140px; }
    .doc-section h2 { font-size: 28px; color: white; margin-bottom: 20px; border-bottom: 1px solid rgba(34, 197, 94, 0.3); padding-bottom: 10px; }
    .doc-section p { color: #ccc; font-size: 17px; line-height: 1.8; margin-bottom: 15px; }
    
    @media (max-width: 850px) {
      .doc-container { grid-template-columns: 1fr; }
      .doc-sidebar { border-right: none; border-bottom: 1px solid rgba(34, 197, 94, 0.2); margin-bottom: 40px; position: static; }
      .doc-nav { display: flex; overflow-x: auto; gap: 15px; }
    }
  </style>
</head>

<body>

<header class="navbar">
  <div class="logo">HIMANK BHATI</div>
  <div class="hamburger">
    <span class="bar"></span><span class="bar"></span><span class="bar"></span>
  </div>
  <nav class="nav-links">
    <a href="index.html">Home</a>
    <a href="index.html#work">Work</a>
    <a href="index.html#connect">Connect</a>
  </nav>
</header>

<div class="doc-container">

  <aside class="doc-sidebar">
    <div class="doc-nav-title">System Analysis</div>
    <nav class="doc-nav">
      <a href="#overview" class="active">01. Overview</a>
      <a href="#code-logic">02. Firmware & Logic</a>
      <a href="#hardware">03. Hardware Stack</a>
      <a href="#gallery">04. Visual Gallery</a>
      <a href="#tuning">05. Tuning Strategy</a>
      <a href="#results">06. Results</a>
    </nav>
    <div style="margin-top: 40px;">
      <a href="index.html#work" style="color: #666; text-decoration: none; font-size: 14px;">‚Üê Back to Portfolio</a>
    </div>
  </aside>

  <main class="doc-content">

    <section id="overview" class="doc-section">
      <div class="status-badge">ARDUINO ‚Ä¢ REAL-TIME CONTROL</div>
      <h1 class="tracker-title">High-Speed<br>Autonomous Tracker</h1>
      
      <p>
        <strong>Objective:</strong> To engineer a line-following robot capable of traversing complex trajectories at maximum velocity while maintaining absolute stability.
      </p>
      <p>
        Speed is easy. Control is hard. This project wasn't just about making wheels turn; it was about mathematically modeling the robot's error and correcting it in microseconds. By implementing a custom <strong>PID (Proportional-Integral-Derivative)</strong> controller, I achieved a system that "predicts" curves rather than just reacting to them.
      </p>
    </section>

    <section id="code-logic" class="doc-section">
      <h2>02. Firmware Architecture</h2>
      <p>
        The system relies on a two-part logic: low-level hardware configuration (PWM/LEDC) and high-level control algorithms (PID).
      </p>

      <h3 style="color: #86efac; font-size: 16px; margin-top: 30px; font-family: 'Courier New';">A. MOTOR DRIVER SETUP [ALFR_code.ino]</h3>
      <div class="code-window" style="margin-top: 10px;">
        <div class="code-header">
          <div class="code-dot" style="background:#ff5f56"></div>
          <div class="code-dot" style="background:#ffbd2e"></div>
          <div class="code-dot" style="background:#27c93f"></div>
          <span style="color: #aaa; font-size: 12px; margin-left: 10px;">ALFR_code.ino</span>
        </div>
        <div class="code-body">
<pre style="margin:0; color:#d4d4d4;">
<span class="c-pre">#include</span> &lt;Arduino.h&gt;

<span class="c-key">void</span> <span class="c-func">setup</span>() {
  <span class="c-com">// Initialize LEDC for PWM control on ESP32</span>
  <span class="c-func">ledcSetup</span>(<span class="c-num">0</span>, <span class="c-num">1000</span>, <span class="c-num">8</span>); <span class="c-com">// Channel 0, 1kHz freq, 8-bit res</span>
  <span class="c-func">ledcAttachPin</span>(<span class="c-num">14</span>, <span class="c-num">0</span>);  <span class="c-com">// Attach GPIO 14 to Channel 0</span>
}

<span class="c-key">void</span> <span class="c-func">loop</span>() {}
</pre>
        </div>
      </div>

      <h3 style="color: #86efac; font-size: 16px; margin-top: 30px; font-family: 'Courier New';">B. CONTROL ALGORITHM (Concept)</h3>
      <p>
        The <strong>Derivative (D)</strong> term acts as a "damper," reducing overshoot when the robot swings back toward the line. This allows the robot to brake <em>before</em> it hits the center, smoothing out the motion.
      </p>
      <div class="code-window" style="margin-top: 10px;">
        <div class="code-body">
<pre style="margin:0; color:#d4d4d4;">
<span class="c-key">void</span> <span class="c-func">calculatePID</span>() {
  <span class="c-key">int</span> error = setPoint - position;
  P = error;
  I = I + error;
  D = error - lastError;
  
  <span class="c-key">int</span> correction = (Kp * P) + (Ki * I) + (Kd * D);
  
  motorSpeed = baseSpeed + correction; 
}
</pre>
        </div>
      </div>
    </section>

    <section id="hardware" class="doc-section">
      <h2>03. Hardware Architecture</h2>
      <p>High-speed tracking requires low-latency hardware. Every component was chosen to minimize the loop time.</p>
      
      <div class="hw-grid">
        <div class="hw-card">
          <div class="hw-icon">‚ö°</div>
          <h3 class="hw-title">IR Sensor Array</h3>
          <p class="sys-desc">
            8-channel QTR reflectance array. Provides analog values (0-1000) for high-resolution positioning, not just binary data.
          </p>
        </div>

        <div class="hw-card">
          <div class="hw-icon">üèéÔ∏è</div>
          <h3 class="hw-title">High-RPM Motors</h3>
          <p class="sys-desc">
            1000 RPM N20 gear motors. High speed with just enough torque to maintain traction during aggressive cornering.
          </p>
        </div>

        <div class="hw-card">
          <div class="hw-icon">üîã</div>
          <h3 class="hw-title">Power Delivery</h3>
          <p class="sys-desc">
            3S LiPo battery with a high-current buck converter. Ensuring stable voltage to the sensors is critical for consistent readings.
          </p>
        </div>
      </div>
    </section>

    <section id="gallery" class="doc-section">
      <h2>04. Design vs. Reality</h2>
      <p>The progression from 3D CAD modeling to the final physical prototype, showcasing the custom wiring harness and compact chassis design.</p>
      
      <div class="gallery-grid">
        <div class="gallery-card">
            <img src="alrf 3d.png" alt="SolidWorks CAD Model">
            <div class="caption">FIG 1: CHASSIS CAD MODEL</div>
        </div>

        <div class="gallery-card">
            <img src="alfr2.jpeg" alt="Side View of Robot">
            <div class="caption">FIG 2: ASSEMBLY & DRIVE TRAIN</div>
        </div>

        <div class="gallery-card">
            <img src="alfr3.jpeg" alt="Top View Wiring">
            <div class="caption">FIG 3: ARDUINO NANO INTEGRATION</div>
        </div>
        
         <div class="gallery-card">
            <img src="alfr1.jpeg" alt="Front View Sensors">
            <div class="caption">FIG 4: SENSOR ARRAY & WIRING</div>
        </div>

        <div class="gallery-card">
            <img src="alfr4.jpeg" alt="Top Down View">
            <div class="caption">FIG 5: POWER & MOTOR DRIVER</div>
        </div>
      </div>
    </section>

    <section id="tuning" class="doc-section">
      <h2>05. The Tuning Process</h2>
      <p>
        PID constants (Kp, Ki, Kd) cannot be calculated perfectly; they must be tuned experimentally. My approach for <strong>System Optimization</strong>:
      </p>
      <ul style="list-style: disc; padding-left: 20px; color: #a3a3a3; line-height: 1.8;">
        <li><strong>Step 1 (Kp):</strong> Increase Proportional gain until the robot oscillates rapidly around the line.</li>
        <li><strong>Step 2 (Kd):</strong> Increase Derivative gain to dampen the oscillations and smooth the cornering.</li>
        <li><strong>Step 3 (Ki):</strong> Add minimal Integral gain to correct steady-state errors on straight paths.</li>
        <li><strong>Result:</strong> Reduced overshoot on 90¬∞ turns and eliminated "fish-tailing" on straightaways.</li>
      </ul>
    </section>

    <section id="results" class="doc-section">
      <h2>06. Performance Outcome</h2>
      <p>
        Through sensor fusion (weighted average of 8 sensors) and aggressive tuning, the system achieved a <strong>25% reduction in lap times</strong> compared to standard library implementations.
      </p>
      <p>
        The robot maintains stability even at speeds where human reaction time would be too slow to intervene.
      </p>

      <div style="margin-top: 60px; text-align: center;">
        <p style="color: #666; margin-bottom: 20px;">Explore Software Simulation</p>
        <a href="ros2-diff-drive.html" class="btn talk-btn" style="background: linear-gradient(90deg, #4f7cff, #00c6ff); display: inline-flex;">
          Next: ROS2 Simulation ‚Üí
        </a>
      </div>
    </section>

  </main>
</div>

<script>
  const hamburger = document.querySelector(".hamburger");
  const navMenu = document.querySelector(".nav-links");
  const sections = document.querySelectorAll(".doc-section");
  const navLinks = document.querySelectorAll(".doc-nav a");

  hamburger.addEventListener("click", () => {
    hamburger.classList.toggle("active");
    navMenu.classList.toggle("active");
  });

  // Scroll Spy
  window.addEventListener("scroll", () => {
    let current = "";
    sections.forEach(sec => {
      if (scrollY >= sec.offsetTop - 150) {
        current = sec.getAttribute("id");
      }
    });
    navLinks.forEach(link => {
      link.classList.remove("active");
      if (link.getAttribute("href").includes(current)) {
        link.classList.add("active");
      }
    });
  });
</script>

</body>
</html>